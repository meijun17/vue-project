{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./src/libs/emitter.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/CartView.vue","webpack:///./src/views/CartView.vue?7c6d","webpack:///./src/views/CartView.vue?0124"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","emitter","mitt","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","NAME","configurable","get","error","class","_createElementVNode","id","_hoisted_24","div","for","_createElementBlock","_createVNode","_component_Loading","active","$data","_hoisted_2","type","disabled","carts","length","onClick","$options","_hoisted_4","_hoisted_5","_Fragment","key","_renderList","item","src","product","imageUrl","alt","_toDisplayString","title","min","qty","$event","onBlur","loadingItem","unit","_ctx","currency","final_total","placeholder","_hoisted_29","_hoisted_32","total","_hoisted_35","_hoisted_37","_component_Form","ref","onSubmit","errors","_hoisted_39","_component_Field","name","rules","user","email","_component_ErrorMessage","_hoisted_41","_hoisted_43","tel","_hoisted_45","address","_hoisted_47","cols","rows","message","Object","keys","_hoisted_49","data","loadingStatus","isLoading","cart","form","coupon_code","mounted","getCart","methods","url","process","$http","then","res","catch","err","alert","removeCartItem","delete","response","emit","updateCart","product_id","put","deleteAllCarts","isPhone","value","phoneNumber","order","post","$httpMessageState","$router","push","orderId","$refs","resetForm","addCouponCode","api","coupon","code","__exports__","render"],"mappings":"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","file":"js/chunk-5c1d7534.11dc8a30.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\nexport default emitter\r\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n    <div class=\"container mt-5\">\r\n      <div>\r\n        <Loading :active=\"isLoading\"></Loading>\r\n        <ul class=\"steps list-unstyled d-flex justify-content-between position-relative mx-auto\">\r\n          <li class=\"steps-item active w-33 d-flex flex-column align-items-center py-2 px-4\"><p class=\"small rounded-circle text-center mb-2\"> 1 </p> 資料填寫 </li>\r\n          <li class=\"steps-item w-33 d-flex flex-column align-items-center py-2 px-4\"><p class=\"small rounded-circle text-center mb-2\"> 2 </p> 訂單建立 </li>\r\n          <li class=\"steps-item w-33 d-flex flex-column align-items-center py-2 px-4\"><p class=\"small rounded-circle text-center mb-2\"> 3 </p> 完成訂單 </li>\r\n        </ul>\r\n        <div class=\"text-end\">\r\n            <button class=\"btn btn-outline-gray w-10 py-2 me-md-2 mb-2 mb-md-0\" type=\"button\"\r\n                    :disabled=\" cart.carts.length === 0 \"\r\n                    @click=\"deleteAllCarts()\">清空購物車</button>\r\n        </div>\r\n        <div>\r\n          <h4 class=\"text-primary text-center border-bottom d-flex align-items-center\r\n            justify-content-center position-relative pb-3 mb-0\">\r\n             購物清單 </h4>\r\n        </div>\r\n        <ul class=\"list-unstyled border-bottom py-4 mb-3\">\r\n          <template v-if=\"cart.carts\">\r\n            <li v-for=\"item in cart.carts\" :key=\"item.id\" class=\"row justify-content-between mb-4\">\r\n              <div class=\"row align-items-center\">\r\n                <div class=\"col-3 p-0\">\r\n                   <img :src=\"item.product.imageUrl\" alt=\"\"  class=\"product-img\">\r\n                </div>\r\n                <div class=\"p-0 col-6\">\r\n                  <div class=\"d-flex m-0 w-100 align-items-center\">\r\n                    <div class=\"p-0 col-8\">\r\n                      <div class=\"productName\">{{item.product.title}}\r\n                      </div>\r\n                    </div>\r\n                      <div class=\"p-0 col-2\">\r\n                        <div class=\"input-group input-group-sm\">\r\n                          <div class=\"input-group\">\r\n                         <!-- @blur 當元素失去焦點時觸發blur事件 -->\r\n                            <input min=\"1\" type=\"number\" class=\"form-control\"\r\n                               v-model.number=\"item.qty\"\r\n                               @blur=\"updateCart(item)\"\r\n                               :disabled=\"loadingStatus.loadingItem === item.id\">\r\n                            <span class=\"input-group-text\" id=\"basic-addon2\">\r\n                          {{ item.product.unit }}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                <div class=\"col-2 p-0\">\r\n                  <div class=\"productTotal text-center\"> NT{{ $filters.currency(item.final_total) }}</div>\r\n                </div>\r\n                <div class=\"col-1 p-0\">\r\n                  <div class=\"productDel text-center\">\r\n                    <span>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-outline-pink   btn-sm\"\r\n                        @click=\"removeCartItem(item.id)\"\r\n                        :disabled=\"loadingStatus. loadingItem === item.id\"\r\n                      >\r\n                        <i class='bx bxs-trash-alt'></i>\r\n                      </button>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </template>\r\n        </ul>\r\n        <div class=\"input-group mb-3 input-group-sm\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            v-model=\"coupon_code\"\r\n            placeholder=\"請輸入優惠碼\"\r\n          />\r\n          <div class=\"input-group-append\">\r\n            <button\r\n              class=\"btn btn-outline-gray\"\r\n              type=\"button\"\r\n              @click=\"addCouponCode\"\r\n            >\r\n              套用優惠碼\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-3 p-0\"></div>\r\n          <div class=\"d-flex col-6 p-0\">\r\n              <div class=\"col-6 text-center summary\">\r\n                共 {{ cart.carts.length }} 項\r\n              </div>\r\n              <div div class=\"col-6 text-center summary\">\r\n                總計\r\n              </div>\r\n          </div>\r\n          <div class=\"col-2 p-0\">\r\n            <div class=\"text-center\">\r\n               NT{{$filters.currency(cart.total) }}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-1 p-0\"></div>\r\n          </div>\r\n      </div>\r\n      <div class=\"my-5 row justify-content-center\">\r\n        <div>\r\n          <h4 class=\"text-primary text-center border-bottom d-flex align-items-center\r\n            justify-content-center position-relative pb-3 mb-0\">\r\n             訂購人資訊 </h4>\r\n        </div>\r\n        <Form\r\n          ref=\"form\"\r\n          class=\"col-md-6 py-4\"\r\n          v-slot=\"{ errors }\"\r\n          @submit=\"onSubmit\"\r\n        >\r\n          <div class=\"mb-3\">\r\n            <label for=\"email\" class=\"form-label\">Email</label>\r\n            <Field\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['email'] }\"\r\n              placeholder=\"請輸入 Email\"\r\n              rules=\"email|required\"\r\n              v-model=\"form.user.email\"\r\n            ></Field>\r\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n            <Field\r\n              id=\"name\"\r\n              name=\"姓名\"\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n              placeholder=\"請輸入姓名\"\r\n              rules=\"required\"\r\n              v-model=\"form.user.name\"\r\n            ></Field>\r\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n            <Field\r\n              id=\"tel\"\r\n              name=\"電話\"\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['電話'] }\"\r\n              placeholder=\"0912345678\"\r\n              :rules=\"isPhone\"\r\n              v-model=\"form.user.tel\"\r\n            ></Field>\r\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n            <Field\r\n              id=\"address\"\r\n              name=\"地址\"\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['地址'] }\"\r\n              placeholder=\"請輸入地址\"\r\n              rules=\"required\"\r\n              v-model=\"form.user.address\"\r\n            ></Field>\r\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"message\" class=\"form-label\">留言</label>\r\n            <textarea\r\n              id=\"message\"\r\n              class=\"form-control\"\r\n              cols=\"30\"\r\n              rows=\"10\"\r\n              v-model=\"form.message\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"text-end\">\r\n            <button type=\"submit\" class=\"btn btn-outline-pink\"\r\n                    :disabled=\"cart.carts.length === 0 || Object.keys(errors).length > 0\">\r\n              送出訂單\r\n            </button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      loadingStatus: {\r\n        loadingItem: ''\r\n      },\r\n      isLoading: false,\r\n      cart: {\r\n        carts: []\r\n      },\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      coupon_code: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCart()\r\n  },\r\n  methods: {\r\n    // getProduct (id) {\r\n    //   this.$router.push(`/product/${id}`)\r\n    // },\r\n    getCart () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.cart = res.data.data\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    removeCartItem (id) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.loadingStatus.loadingItem = id\r\n      this.$http.delete(url)\r\n        .then((response) => {\r\n          alert(response.data.message)\r\n          emitter.emit('get-cart')\r\n          this.getCart()\r\n        })\r\n        .catch((err) => {\r\n          alert(err.data.message)\r\n        })\r\n      this.loadingStatus.loadingItem = ''\r\n      this.isLoading = false\r\n    },\r\n    updateCart (item) {\r\n      this.loadingStatus.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`, { data: cart })\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          this.loadingStatus.loadingItem = ''\r\n          this.getCart()\r\n        })\r\n        .catch((err) => {\r\n          alert(err.data.message)\r\n          this.loadingStatus.loadingItem = ''\r\n        })\r\n    },\r\n    deleteAllCarts () {\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`)\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          emitter.emit('get-cart')\r\n          this.getCart()\r\n        })\r\n        .catch((err) => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '請輸入正確的號碼格式'\r\n    },\r\n    onSubmit () {\r\n      this.isLoading = true\r\n      const order = this.form\r\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`, { data: order })\r\n        .then((res) => {\r\n          this.$httpMessageState(res, '建立訂單')\r\n          this.$router.push(`/checkout/${res.data.orderId}`)\r\n          this.$refs.form.resetForm()\r\n          this.form.message = ''\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false\r\n          this.$httpMessageState(err.response, '建立訂單')\r\n        })\r\n    },\r\n    addCouponCode () {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(api, { data: coupon })\r\n        .then((res) => {\r\n          this.$httpMessageState(res, '加入優惠券')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false\r\n          this.$httpMessageState(err.response, '加入優惠券')\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .container{\r\n    position: relative;\r\n    top: 80px;\r\n  }\r\n  .steps {\r\n    max-width: 500px;\r\n    z-index: 1;\r\n  }\r\n  .steps-item {\r\n    position: relative;\r\n  }\r\n  .steps-item.active {\r\n    color: #ff6978;\r\n  }\r\n  .steps p {\r\n    width: 40px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    color: #fff;\r\n    background-color: #ccc;\r\n  }\r\n  .steps-item.active p {\r\n    background-color: #ff6978;\r\n  }\r\n  .steps-item:not(:first-child):after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 30%;\r\n    left: -50%;\r\n    width: 100%;\r\n    height: 2px;\r\n    background-color: #ccc;\r\n    z-index: -1;\r\n  }\r\n  .w-33 {\r\n    width: 33%;\r\n  }\r\n\r\n  .w-10 {\r\n    width: 10%;\r\n  }\r\n\r\n  .btn-outline-gray{\r\n    border: 1px #8d949b solid;\r\n    color: #8d949b;\r\n  }\r\n\r\n  .btn-outline-gray:hover {\r\n    color: white;\r\n    background-color: #8d949b;\r\n    border-color: #8d949b;\r\n  }\r\n\r\n  .border-bottom {\r\n    border-bottom: 1px solid #dee2e6!important;\r\n  }\r\n\r\n  .text-primary{\r\n    color: #043869!important;\r\n    font-weight: 700;\r\n  }\r\n\r\n  .product-img {\r\n    width: 100px;\r\n    height: 100px;\r\n    object-fit: cover;\r\n  }\r\n\r\n  .btn-outline-pink{\r\n    border: 1px #ff6978 solid;\r\n    color: #ff6978;\r\n  }\r\n\r\n  .btn-outline-pink:hover{\r\n    background: #ff6978 ;\r\n    color: white;\r\n  }\r\n\r\n</style>\r\n","import { render } from \"./CartView.vue?vue&type=template&id=15c5490f&scoped=true\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport \"./CartView.vue?vue&type=style&index=0&id=15c5490f&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wdxlf\\\\Desktop\\\\六角直播班\\\\week8\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15c5490f\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CartView.vue?vue&type=style&index=0&id=15c5490f&scoped=true&lang=css\""],"sourceRoot":""}