{"version":3,"sources":["webpack:///./src/libs/emitter.js","webpack:///./src/views/ProductsView.vue?d918","webpack:///./src/components/PaginationView.vue","webpack:///./src/components/PaginationView.vue?1550","webpack:///./src/views/ProductsView.vue","webpack:///./src/views/ProductsView.vue?f20f"],"names":["emitter","mitt","aria-label","class","_createElementVNode","aria-hidden","_hoisted_3","_hoisted_7","_createElementBlock","disabled","$props","current_page","href","onClick","$options","_Fragment","_renderList","total_pages","item","index","key","active","_toDisplayString","_hoisted_6","props","methods","emitPages","this","$emit","__exports__","render","style","_createVNode","_component_Loading","$data","type","product","id","isSelected","src","imageUrl","alt","_component_router_link","to","title","_hoisted_16","_ctx","price","_component_Pagination","pages","onEmitPages","data","cartData","products","pagination","loadingStatus","loadingItem","isLoading","components","Pagination","getProducts","page","$http","get","process","then","res","forEach","catch","err","alert","message","addToCart","qty","product_id","post","emit","navList","category","mounted"],"mappings":"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","file":"js/chunk-0c474830.d3d5af04.js","sourcesContent":["import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\nexport default emitter\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProductsView.vue?vue&type=style&index=0&id=d0989b4a&scoped=true&lang=css\"","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{ disabled: pages.current_page === 1 }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"emitPages(pages.current_page - 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        v-for=\"(item, index) in pages.total_pages\"\r\n        :key=\"index\"\r\n        class=\"page-item\"\r\n        :class=\"{ active: item === pages.current_page }\"\r\n      >\r\n        <span class=\"page-link\" v-if=\"item === pages.current_page\">{{\r\n          item\r\n        }}</span>\r\n        <a class=\"page-link\" href=\"#\" v-else @click.prevent=\"emitPages(item)\">{{\r\n          item\r\n        }}</a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        :class=\"{ disabled: pages.current_page === pages.total_pages }\"\r\n      >\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"emitPages(pages.current_page + 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    emitPages (item) {\r\n      this.$emit('emit-pages', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PaginationView.vue?vue&type=template&id=edf55700\"\nimport script from \"./PaginationView.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\wdxlf\\\\Desktop\\\\六角直播班\\\\week8\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<div>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container d-flex mt-5\">\r\n      <div class=\"col-2 mt-5\">\r\n        <ul class=\"sidebar list-unstyled d-flex flex-md-column flex-wrap border border-2 sticky-md-top mb-5 mt-5\" style=\"top: 100px;\">\r\n          <li class=\"border-bottom\">\r\n            <button type=\"button\" class=\"d-flex align-items-center w-100 py-3 px-4 active\" @click=\"navList('全部商品')\">全部商品\r\n            </button>\r\n          </li>\r\n          <li class=\"border-bottom\">\r\n            <button type=\"button\" class=\"d-flex align-items-center w-100 py-3 px-4\" @click=\"navList('布置靈感')\">布置靈感\r\n              </button>\r\n          </li>\r\n          <li class=\"border-bottom\">\r\n            <button type=\"button\" class=\"d-flex align-items-center w-100 py-3 px-4\" @click=\"navList('設計文具')\">設計文具\r\n              </button>\r\n          </li >\r\n          <li class=\"border-bottom\">\r\n            <button type=\"button\" class=\"d-flex align-items-center w-100 py-3 px-4\" @click=\"navList('療癒小物')\">療癒小物\r\n              </button>\r\n          </li>\r\n          <li class=\"border-bottom\">\r\n            <button type=\"button\" class=\"d-flex align-items-center w-100 py-3 px-4\" @click=\"navList('收納好物')\">收納好物\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"col-10 mt-5\">\r\n        <div class=\"d-flex flex-row flex-wrap mt-4\">\r\n              <div v-for=\"product in products\" :key=\"product.id\">\r\n                <div class=\"productsBox flex-column\" v-if=\"product.isSelected\">\r\n                  <div class=\"top\">\r\n                    <img :src=\"product.imageUrl\" alt=\"\">\r\n                   </div>\r\n                  <div class=\"bottom\">\r\n                    <router-link :to=\"`/product/${product.id}`\">\r\n                       <h3>{{ product.title }}</h3>\r\n                    </router-link>\r\n                    <div class=\"text d-flex justify-content-start align-items-center\">\r\n                      <i class='bx bx-heart'></i>\r\n                      <i class='bx bxs-cart-add'\r\n                         @click=\"addToCart(product.id, qty)\"\r\n                         ></i>\r\n                      <span class=\"price\">NT{{ product.price }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter'\r\nimport Pagination from '@/components/PaginationView.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartData: {},\r\n      products: [],\r\n      pagination: {},\r\n      loadingStatus: {\r\n        loadingItem: ''\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    Pagination\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.isLoading = true\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`)\r\n        .then((res) => {\r\n          // 從api取得所有產品資料，加入data的products\r\n          this.products = res.data.products\r\n          this.pagination = res.data.pagination\r\n          this.products.forEach(function (item) {\r\n            item.isSelected = true\r\n          })\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    addToCart (id, qty = 1) {\r\n      this.isLoading = true\r\n      const data = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.loadingStatus.loadingItem = id\r\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, { data })\r\n        .then((res) => {\r\n          this.loadingStatus.loadingItem = ''\r\n          emitter.emit('get-cart')\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    navList (item) {\r\n      this.products.forEach(function (product) {\r\n        if (item === '全部商品') {\r\n          product.isSelected = true\r\n        } else {\r\n          if (product.category === item) {\r\n            product.isSelected = true\r\n          } else {\r\n            product.isSelected = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .sidebar.border {\r\n    border: 1px solid #dee2e6!important;\r\n  }\r\n  .sidebar button {\r\n    color: black!important;\r\n    background-color: #fff;\r\n    border: none;\r\n  }\r\n  .productsBox {\r\n      position: relative;\r\n      margin: 0 30px 60px 30px;\r\n      box-shadow: 0 0 5px rgb(0 0 0 / 20%);\r\n      width: 400px;\r\n      flex-wrap: wrap;\r\n  }\r\n  .productsBox .top {\r\n    position: relative;\r\n    height: 300px;\r\n  }\r\n  .productsBox .top img {\r\n    display: inline-block;\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    object-position: 50% 50%;\r\n  }\r\n  .productsBox .bottom {\r\n    padding: 15px;\r\n  }\r\n  .productsBox .bottom a{\r\n    text-decoration: none;\r\n    color: #111010;\r\n  }\r\n  .productsBox .bottom a:hover{\r\n    color: #4f4f4f;\r\n  }\r\n  .productsBox .bottom .price {\r\n    display: inline-block;\r\n    letter-spacing: 1px;\r\n    font-size: 22px;\r\n    color: #4f4f4f;\r\n    margin-left: 55%;\r\n  }\r\n  .productsBox .bottom i {\r\n      display: inline-block;\r\n      font-size: 24px;\r\n      color: #b2b2b2;\r\n      margin: 0 10px;\r\n      cursor: pointer;\r\n  }\r\n  .productsBox .bottom i:hover{\r\n    color: #f19fb1;\r\n  }\r\n</style>\r\n","import { render } from \"./ProductsView.vue?vue&type=template&id=d0989b4a&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=d0989b4a&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wdxlf\\\\Desktop\\\\六角直播班\\\\week8\\\\vue-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d0989b4a\"]])\n\nexport default __exports__"],"sourceRoot":""}